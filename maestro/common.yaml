name: gns

default_env: &default-env
  CONFIG: /root/gns.d/gns.yaml
  RULES_DIR: /root/rules
  REPO_DIR: /root/rules.git
  REPO_URL: !!python/object/apply:os.getenv [GNS_REPO_URL, 'https://github.yandex-team.ru/monitoring/gns-rules']
  ELASTICSEARCH_URL: !!python/object/apply:os.getenv [ELASTICSEARCH_URL, 'http://elasticlog.yandex.net:9200']
  YA_SMS_URL: !!python/object/apply:os.getenv [YA_SMS_URL, 'https://golem.yandex-team.ru/api/sms/send.sbml']
  EMAIL_FROM: !!python/object/apply:os.getenv [EMAIL_FROM, 'gns@gns']

volumes: &volumes
  /root/rules.git: /var/cache/gns-rules.git
  /root/rules: /var/cache/gns-rules

gns-image: &gns-image !!python/object/apply:os.getenv [DOCKER_GNS_IMAGE, yandex/gns]
zookeeper-image: &zookeeper-image !!python/object/apply:os.getenv [DOCKER_ZOOKEEPER_IMAGE, yandex/zookeeper]
exim-image: &exim-image  !!python/object/apply:os.getenv [DOCKER_EXIM_IMAGE, yandex/exim]

ships:
  docker-1:
    ip: &ship-1 !!python/object/apply:os.getenv [SHIP_1, docker-1.i.fog.yandex.net]
    timeout: 15
  docker-2:
    ip: &ship-2 !!python/object/apply:os.getenv [SHIP_2, docker-2.i.fog.yandex.net]
    timeout: 15
  docker-3:
    ip: &ship-3 !!python/object/apply:os.getenv [SHIP_3, docker-3.i.fog.yandex.net]
    timeout: 15
  local:
    ip: &ship 172.17.42.1
